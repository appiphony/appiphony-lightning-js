<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Lookup Demo | Appiphony Lightning JS</title>
    <link rel="stylesheet" type="text/css" href="assets/styles/salesforce-lightning-design-system-vf.css">
    <style type="text/css">
        html, body {
            margin: 0;
            padding: 2px;
            width: 100%;
            height: 100%;
            box-sizing: border-box;
        }
    </style>
</head>

<body>
    <div class="slds">
        <div class="slds-lookup" data-select="single" data-scope="single" data-typeahead="true">
            <p class="slds-text-heading--small slds-m-bottom--x-small">Passing in an Items List</p>
			<div class="slds-form-element">
				<label class="slds-form-element__label" for="lookup">Objects</label>
				<div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
					<svg aria-hidden="true" class="slds-input__icon">
						<use xlink:href="assets/icons/utility-sprite/svg/symbols.svg#search"></use>
					</svg>
					<input id="lookup-1" class="slds-input" type="text" aria-autocomplete="list" role="combobox" aria-expanded="true" aria-activedescendant="" />
				</div>
			</div>	
		</div>
		<div class="slds-lookup" data-select="single" data-scope="single" data-typeahead="true">
            <p class="slds-text-heading--small slds-m-bottom--x-small slds-m-top--large">Passing in Functions to Get Items</p>
			<div class="slds-form-element">
				<label class="slds-form-element__label" for="lookup">Things</label>
				<div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
					<svg aria-hidden="true" class="slds-input__icon">
						<use xlink:href="assets/icons/utility-sprite/svg/symbols.svg#search"></use>
					</svg>
					<input id="lookup-2" class="slds-input" type="text" aria-autocomplete="list" role="combobox"/>
				</div>
			</div>	
		</div>
		<div class="slds-lookup" data-select="multi" data-scope="single" data-typeahead="true">
            <p class="slds-text-heading--small slds-m-bottom--x-small slds-m-top--large">Multi Select Lookup</p>
			<div class="slds-form-element">
				<label class="slds-form-element__label" for="lookup">Entities</label>
				<div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
					<svg aria-hidden="true" class="slds-input__icon">
						<use xlink:href="assets/icons/utility-sprite/svg/symbols.svg#search"></use>
					</svg>
					<input id="lookup-3" class="slds-input" type="text" aria-autocomplete="list" role="combobox"/>
				</div>
			</div>	
		</div>
        <div class="slds-text-longform slds-m-top--large">
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam dictum porta sem, a eleifend sapien placerat non. Phasellus at sapien commodo, commodo risus quis, laoreet lectus. Mauris dictum sodales fringilla. Nam mi dolor, egestas vel lobortis sed, mattis vitae risus. Aenean eget lorem arcu. Nulla erat purus, consequat a lacus id, consequat molestie arcu. Fusce volutpat dui mattis rhoncus pellentesque. Nulla iaculis turpis in dolor rhoncus euismod nec ut ligula. Ut vel pulvinar nulla, in aliquam ante. Proin mollis, tortor eu semper maximus, urna sem vehicula ante, vel aliquam diam ipsum sed justo. Etiam finibus tortor orci, sed molestie lectus efficitur sed. Aenean euismod ipsum sit amet enim rutrum feugiat.</p>
            <p>Fusce ut egestas tellus, in facilisis dui. Sed at urna sed nisi pharetra maximus et eu est. Etiam condimentum magna eget nulla lacinia, sit amet ultricies ligula congue. Cras pretium metus a eros ornare vehicula sed non metus. Pellentesque nec nisl nec justo dapibus aliquam a nec quam. Nunc et bibendum lacus. Maecenas at venenatis nibh. Nullam mollis, enim quis dictum luctus, sem turpis egestas dolor, ut interdum risus mi vitae quam. Aenean eu nibh ullamcorper, fermentum sem eget, mollis arcu. Nullam vulputate, ante in ullamcorper ultricies, ipsum augue imperdiet ante, ut iaculis magna mi in eros. Ut vel pulvinar nulla, in aliquam ante. Aliquam convallis, dui quis varius gravida, urna turpis tempor nibh, sit amet tempus.</p>
        </div>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="./src/jquery.aljs-init.js"></script>
    <script src="./src/jquery.aljs-lookup.js"></script>
    <script>
    	$.aljsInit({
            assetsLocation: '.'
        });
        $(document).ready(function() {
        	$('#lookup-1').lookup({
        		items: [
        			{
        				id: 'result-1',
        				label: 'Result 1'
        			},
        			{
        				id: 'result-2',
        				label: 'Result 2'
        			},
        			{
        				id: 'result-3',
        				label: 'Result 3'
        			},
        			{
        				id: 'result-4',
        				label: 'Result 4'
        			},
        			{
        				id: 'result-5',
        				label: 'Result 5'
        			},
        			{
        				id: 'result-6',
        				label: 'Result 6'
        			}
        		],
                objectIconUrl: 'assets/icons/standard-sprite/svg/symbols.svg#account'
        	});
            
            var results = [
                {
                    id: 'ajax-result-1',
                    label: 'ajaxResult1'
                },
                {
                    id: 'ajax-result-2',
                    label: 'ajaxResult2'
                },
                {
                    id: 'ajax-result-3',
                    label: 'ajaxResult3'
                },
                {
                    id: 'ajax-result-4',
                    label: 'ajaxResult4'
                },
                {
                    id: 'ajax-result-5',
                    label: 'ajaxResult5'
                },
                {
                    id: 'ajax-result-6',
                    label: 'ajaxResult6'
                }
            ];

        	$('#lookup-2').lookup({
        		objectPluralLabel: 'Things',
        		objectLabel: 'Thing',
        		objectIconUrl: 'assets/icons/standard-sprite/svg/symbols.svg#account',
                objectIconClass: 'slds-icon-standard-account',
        		emptySearchTermQuery: function(callback) {
        			callback(results);
        		},
        		filledSearchTermQuery: function(searchTerm, callback) {
        			callback(results.filter(function(result) {
        				return result.label.match(searchTerm) !== null;
        			}));
        		},
        		clickAddFunction: function() {
        			console.log('redirect or do something to add something');
        		}
        	});

        	$('#lookup-3').lookup({
        		objectPluralLabel: 'Entities',
        		objectLabel: 'Entity',
        		objectIconUrl: 'assets/icons/standard-sprite/svg/symbols.svg#account',
                objectIconClass: 'slds-icon-standard-account',
        		emptySearchTermQuery: function(callback) {
        			callback(results);
        		},
        		filledSearchTermQuery: function(searchTerm, callback) {
        			callback(results.filter(function(result) {
        				return result.label.match(searchTerm) !== null;
        			}));
        		},
        		clickAddFunction: function() {
        			console.log('redirect or do something to add something');
        		}
        	});
            /*$('#pl1').multipicklist({
                onChange: function(obj) {
                    console.log('picklist 1');
                    console.log(obj);
                }
            });*/
        });
    </script>
    <script>
        $(document).ready(function() {
            $('body').on('click', 'a[href="#"]', function(e) {
                e.preventDefault();
                return false;
            });
        });
    </script>
</body>

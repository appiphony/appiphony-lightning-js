/* --------------------------------------------------
Appiphony Lightning JS

Version: 4.0.0 (Nightly)
Website: http://aljs.appiphony.com
GitHub: https://github.com/appiphony/appiphony-lightning-js
License: BSD 2-Clause License
-------------------------------------------------- */
if("undefined"==typeof jQuery)throw new Error("Appiphony Lightning JS requires jQuery");if(function(e){void 0===e.aljs&&(e.aljs={assetsLocation:"",scoped:!0,scopingClass:"slds-scope"},e.aljsInit=function(t){e.aljs=t})}(jQuery),void 0===jQuery.aljs)throw new Error("Please include the ALJS initializer file");if("undefined"==typeof moment)throw new Error("The ALJS datepicker plugin requires moment.js");if(function(e){var t='<div class="slds-datepicker slds-dropdown slds-dropdown_left" aria-hidden="false"><div class="slds-datepicker__filter slds-grid"><div class="slds-datepicker__filter_month slds-grid slds-grid_align-spread slds-grow"><div class="slds-align-middle"><button id="aljs-prevButton" class="slds-button slds-button_icon-container"><svg aria-hidden="true" class="slds-button__icon slds-button__icon_small"><use xlink:href="{{assetsLocation}}/assets/icons/utility-sprite/svg/symbols.svg#left"></use></svg><span class="slds-assistive-text">Previous Month</span></button></div><h2 id="aljs-month" class="slds-align-middle" aria-live="assertive" aria-atomic="true"></h2><div class="slds-align-middle"><button id="aljs-nextButton" class="slds-button slds-button_icon-container" title="Next Month"><svg aria-hidden="true" class="slds-button__icon"><use xlink:href="{{assetsLocation}}/assets/icons/utility-sprite/svg/symbols.svg#right"></use></svg><span class="slds-assistive-text">Next Month</span></button></div></div><div class="slds-shrink-none"><div class="slds-select_container"></div></div></div>',s=function(s,l){this.$el=e(s),this.settings=l;for(var i=moment(l.initDate)||moment(),a=l.endDateInputId,n='<table class="datepicker__month" role="grid" aria-labelledby="month"><thead><tr id="weekdays"><th id="{{label0Full}}" scope="col"><abbr title="{{label0Full}}">{{label0Abbr}}</abbr></th><th id="{{label1Full}}" scope="col"><abbr title="{{label1Full}}">{{label1Abbr}}</abbr></th><th id="{{label2Full}}" scope="col"><abbr title="{{label2Full}}">{{label2Abbr}}</abbr></th><th id="{{label3Full}}" scope="col"><abbr title="{{label3Full}}">{{label3Abbr}}</abbr></th><th id="{{label4Full}}" scope="col"><abbr title="{{label4Full}}">{{label4Abbr}}</abbr></th><th id="{{label5Full}}" scope="col"><abbr title="{{label5Full}}">{{label5Abbr}}</abbr></th><th id="{{label6Full}}" scope="col"><abbr title="{{label6Full}}">{{label6Abbr}}</abbr></th></tr></thead><tbody></tbody></table></div>',o=0;o<this.settings.dayLabels.length;o++){var d=this.settings.dayLabels[o],c=new RegExp("{{label"+o+"Full}}","g"),r=new RegExp("{{label"+o+"Abbr}}","g");n=n.replace(c,d.full.toString()).replace(r,d.abbr.toString())}this.$datepickerEl=e(t.replace(/{{assetsLocation}}/g,l.assetsLocation)+n),l.initDate&&this.setSelectedFullDate(i),a&&1===e("#"+a).length&&(this.$elEndDate=e("#"+a),l.endDate&&this.setSelectedEndDate(l.endDate)),this.initInteractivity()};s.prototype={constructor:s,initInteractivity:function(){var t=this,s=this.$datepickerEl,l=this.$el,i=this.$elEndDate||[],a=function(a){if(a.stopPropagation(),e("[data-aljs-datepicker-id]").each(function(){e(this).data("datepicker").closeDatepicker()}),a.target===l[0]&&null!==l.val()&&""!==l.val()||a.target===i[0]&&null!==i.val()&&""!==i.val())t.$selectedInput=e(this).parent().find("input"),t.$selectedInput.on("keyup",t,t.processKeyup),t.closeDatepicker();else{var n=t.selectedFullDate||moment();t.viewedMonth=n.month(),t.viewedYear=n.year(),t.fillMonth(),t.$selectedInput=e(this).parent().find("input"),t.$selectedInput.off("keyup"),t.$selectedInput.closest(".slds-form-element").append(s),t.settings.onShow(t),t.initYearDropdown(),e([l,s,i,l.prev("svg")]).each(function(){e(this).on("click",t.blockClose)}),s.on("click",t,t.processClick),e("body").on("click",t,t.closeDatepicker)}};l.on("blur",t,t.processBlur),l.on("click",a),e(l.prev("svg")).on("click",a),l.prev("svg").css("cursor","pointer"),i.length>0&&(i.on("blur",t,t.processBlur),i.on("focus",a),i.prev("svg").on("click",a),i.prev("svg").css("cursor","pointer"))},closeDatepicker:function(t){var s=this,l=e("body");t&&(s=t.data,l=e(this));var i=s.$datepickerEl,a=s.$selectedInput;0===l.closest(s.$el.parent()).length&&a&&(a.closest(".slds-form-element").find(".slds-datepicker").length>0&&(s.settings.onDismiss(s),a.closest(".slds-form-element").find(".slds-datepicker").remove()),e("body").unbind("click",s.closeDatepicker),i.unbind("click",s.processClick))},fillMonth:function(){var t=this.settings.dayLabels,s=this.getMonthArray(),l=e("<tbody>"),i=this.$elEndDate&&this.$elEndDate.length>0;this.selectedFullDate,this.selectedEndDate,s.forEach(function(s){var a=e("<tr>").appendTo(l);s.hasMultiRowSelection&&a.addClass("slds-has-multi-row-selection"),s.data.forEach(function(s,l){var n=e('<td data-aljs-date="'+s.dateValue+'">').appendTo(a);n.prop({headers:t[l].full,role:"gridcell"}),e('<span class="slds-day">'+s.value+"</span>").appendTo(n),s.isCurrentMonth||n.addClass("slds-disabled-text").attr("aria-disabled","true"),s.isSelected||s.isSelectedEndDate||s.isSelectedMulti?n.addClass(i?"slds-is-selected-multi slds-is-selected":"slds-is-selected").attr("aria-selected","true"):n.attr("aria-selected","false"),s.isToday&&n.addClass("slds-is-today")})}),l.append('<tr><td colspan="7" role="gridcell" data-aljs-date="{{todaysDate}}"><a href="javascript:void(0);" class="slds-show_inline-block slds-p-bottom_x-small">{{todayLabel}}</a></td></tr>'.replace(/{{todaysDate}}/g,this.getMMDDYYYY(moment().month()+1,moment().date(),moment().year())).replace(/{{todayLabel}}/g,this.settings.todayLabel.toString())),this.$datepickerEl.find("tbody").replaceWith(l),this.$datepickerEl.find("#aljs-month").text(this.settings.monthLabels[this.viewedMonth].full),this.$datepickerEl.find("#aljs-year").text(this.viewedYear)},initYearDropdown:function(){var t=this,s=this.$datepickerEl.find("select"),l=this.viewedYear;if(s.length>0)s.val(this.viewedYear);else{var i=e("<label></label>");s=e('<select class="slds-select select picklist__label">').appendTo(i);for(var a=moment().year(),n=a-this.settings.numYearsBefore;n<=a+this.settings.numYearsAfter;n++)e('<option value="'+n+'">'+n+"</option>").appendTo(s);s.val(l),this.$datepickerEl.find(".slds-select_container").append(i)}s.on("change",function(s){t.viewedYear=parseInt(e(s.target).val()),t.fillMonth()})},getMMDDYYYY:function(e,t,s){return(e>9?e:"0"+e)+"/"+(t>9?t:"0"+t)+"/"+s},getMonthArray:function(){for(var e=this.selectedFullDate,t=this.selectedEndDate,s=(e&&e.date(),e&&e.month(),e&&e.year(),this.viewedMonth),l=this.viewedYear,i=0===s?11:s-1,a=11===s?0:s+1,n=this.getNumDaysInMonth(l,s),o=this.getNumDaysInMonth(l,i),d=(this.getNumDaysInMonth(l,a),new Date(l,s,1).getDay()),c=[],r=[],u=(this.dayLabels,o-(d-1));u<=o;u++){var h=moment(new Date(11===i?l-1:l,i,u));c.push({value:u,dateValue:this.getMMDDYYYY(i+1,u,l),isCurrentMonth:!1,isToday:h.isSame(moment(),"day")})}for(var u=1;u<=n;u++){var h=moment(new Date(l,s,u));c.push({value:u,dateValue:this.getMMDDYYYY(s+1,u,l),isCurrentMonth:!0,isSelected:e&&h.isSame(e,"day"),isSelectedEndDate:t&&h.isSame(t,"day"),isSelectedMulti:e&&t&&(h.isBetween(e,t)||h.isSame(e,"day")||h.isSame(t,"day")),isToday:h.isSame(moment(),"day")})}if(c.forEach(function(e,t,s){if(t%7==0){var l=t>=7&&s[t-1].isSelectedMulti&&e.isSelectedMulti;l&&(r[r.length-1].hasMultiRowSelection=!0),r.push({data:[],hasMultiRowSelection:l})}r[r.length-1].data.push(e)}),r[r.length-1].data.length<7)for(var h=moment(new Date(0===a?l+1:l,a,u)),p=7-r[r.length-1].data.length,u=1;u<=p;u++)r[r.length-1].data.push({value:u,dateValue:this.getMMDDYYYY(a+1,u,0===a?l+1:l),isCurrentMonth:!1,isSelected:e&&h.isSame(e,"day"),isToday:h.isSame(moment(),"day")});return r},setSelectedFullDate:function(e){var t=this.selectedFullDate;this.selectedFullDate=e,""!==e&&null!==e&&void 0!==e?(this.$el.val(e.format(this.settings.format)),-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&this.$el.val(e.format(this.settings.format))):this.$el.val(""),(!t&&""!=e||"object"==typeof t&&!t.isSame(e,"day"))&&this.settings.onChange(this)},setSelectedEndDate:function(e){var t=this.selectedEndDate;this.selectedEndDate=e,""!==e&&null!==e&&void 0!==e?(this.$elEndDate.val(e.format(this.settings.format)),-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&this.$elEndDate.val(e.format(this.settings.format))):this.$elEndDate.val(""),(!t&&""!=e||"object"==typeof t&&!t.isSame(e,"day"))&&this.settings.onChange(this)},processClick:function(t){t.preventDefault();var s=t.data,l=e(t.target);l.closest("#aljs-prevButton").length>0&&s.clickPrev(t),l.closest("#aljs-nextButton").length>0&&s.clickNext(t),l.closest("td[data-aljs-date]").length>0&&s.clickDate(t),l.closest("li[data-aljs-year]").length>0&&s.clickYear(t)},processKeyup:function(t){13===t.keyCode&&e(this).blur().off("keyup")},processBlur:function(e){if(e){var t=e.data;if(t.$elEndDate&&t.$elEndDate.length>0&&t.$elEndDate[0]===t.$selectedInput[0]){var s=t.$elEndDate.val(),l=moment(s,t.settings.format);l.isValid()?(t.setSelectedEndDate(l),t.closeDatepicker(e),t.$selectedInput.off("keyup")):s.length||t.setSelectedEndDate("")}else{var i=t.$el.val(),a=moment(i,t.settings.format);a.isValid()?(t.setSelectedFullDate(a),t.closeDatepicker(e),t.$selectedInput.off("keyup")):i.length||t.setSelectedFullDate("")}}},clickPrev:function(e){var t=e.data,s=moment().year();0===t.viewedMonth?(t.viewedMonth=11,t.viewedYear===s-t.settings.numYearsBefore?(t.viewedYear=s+t.settings.numYearsAfter,t.$datepickerEl.find(".slds-select option:selected").prop("selected",!1),t.$datepickerEl.find(".slds-select option").last().prop("selected","selected")):(t.viewedYear--,t.$datepickerEl.find(".slds-select option:selected").prop("selected",!1).prev().prop("selected","selected"))):t.viewedMonth--,t.fillMonth()},clickNext:function(e){var t=e.data,s=moment().year();11===t.viewedMonth?(t.viewedMonth=0,t.viewedYear===s+t.settings.numYearsAfter?(t.viewedYear=s-t.settings.numYearsBefore,t.$datepickerEl.find(".slds-select option:selected").prop("selected",!1),t.$datepickerEl.find(".slds-select option").first().prop("selected","selected")):(t.viewedYear++,t.$datepickerEl.find(".slds-select option:selected").prop("selected",!1).next().prop("selected","selected"))):t.viewedMonth++,t.fillMonth()},clickYear:function(t){var s=t.data,l=e(t.target).closest("li[data-aljs-year]");s.viewedYear=parseInt(l.data("aljs-year")),s.fillMonth()},clickYearDropdown:function(e){var t=e.data;t.$datepickerEl.find("#aljs-yearDropdown").length>0?t.hideYearDropdown():t.showYearDropdown()},clickDate:function(t){var s=t.data,l=e(t.target).closest("td[data-aljs-date]");if(!l.hasClass("slds-disabled-text")){var i=l.data("aljs-date");s.$elEndDate&&s.$elEndDate.length>0&&s.$elEndDate[0]===s.$selectedInput[0]?s.setSelectedEndDate(moment(i,"MM/DD/YYYY")):s.setSelectedFullDate(moment(i,"MM/DD/YYYY")),s.settings.onSelect(s,moment(i,"MM/DD/YYYY")),s.closeDatepicker(t)}},blockClose:function(e){e.stopPropagation()},isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getNumDaysInMonth:function(e,t){return[31,this.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},getDate:function(e){return e?this.selectedFullDate.format(e):this.selectedFullDate},setDate:function(e){this.setSelectedFullDate(moment(e))},getEndDate:function(e){if(this.$elEndDate&&this.selectedEndDate)return e?this.selectedEndDate.format(e):this.selectedEndDate},setEndDate:function(e){this.$elEndDate&&this.setSelectedEndDate(moment(e))}},e.fn.datepicker=function(t,l){var i,a=e.extend({assetsLocation:e.aljs.assetsLocation,numYearsBefore:50,numYearsAfter:10,format:"MM/DD/YYYY",endDateInputId:null,onChange:function(e){},onShow:function(e){},onDismiss:function(e){},onSelect:function(e,t){},dayLabels:[{full:"Sunday",abbr:"Sun"},{full:"Monday",abbr:"Mon"},{full:"Tuesday",abbr:"Tue"},{full:"Wednesday",abbr:"Wed"},{full:"Thursday",abbr:"Thu"},{full:"Friday",abbr:"Fri"},{full:"Saturday",abbr:"Sat"}],monthLabels:[{full:"January",abbr:""},{full:"February",abbr:""},{full:"March",abbr:""},{full:"April",abbr:""},{full:"May",abbr:""},{full:"June",abbr:""},{full:"July",abbr:""},{full:"August",abbr:""},{full:"September",abbr:""},{full:"October",abbr:""},{full:"November",abbr:""},{full:"December",abbr:""}],todayLabel:"Today"},"object"==typeof t?t:{});if(this.each(function(){var n=e(this),o=n.data("datepicker");if(!o){var d=new s(this,a);n.data("datepicker",o=d),n.attr("data-aljs-datepicker-id",n.attr("id"))}"string"==typeof t&&(i=o[t](l))}),void 0===i||i instanceof s)return this;if(this.length>1)throw new Error("Usage only allowed for the collection of a single element ("+option+" function)");return i}}(jQuery),void 0===jQuery.aljs)throw new Error("Please include the ALJS initializer file");if(function(e){e.fn.iconGroup=function(t){function s(e){e.removeClass(n).addClass(a).trigger("selected.aljs.button")}function l(e){e.removeClass(a).addClass(n).trigger("deselected.aljs.button")}var i={},a="slds-is-selected",n="slds-not-selected";if(i.settings=e.extend({type:"sort",defaultButtonId:"",onChange:function(e){console.log(e)},assetsLocation:e.aljs.assetsLocation},t),"string"!=typeof t)return i.buttons=e(".slds-button",this),i.defaultIcon=""===i.settings.defaultButtonId?i.buttons.eq(0):"#"+i.settings.defaultButtonId,"sort"===i.settings.type&&s(e(i.defaultIcon)),i.buttons.click(function(){i.target=e(this),i.targetId=i.target.attr("id"),!i.target.hasClass(a)||"toggle"!==i.settings.type&&"switch"!==i.settings.type?i.target.hasClass(n)&&"toggle"===i.settings.type?(s(i.target),i.settings.onChange()):!i.target.hasClass(n)||"switch"!==i.settings.type&&"sort"!==i.settings.type||(i.buttons.each(function(){e(this)!==i.target&&e(this).hasClass(a)&&l(e(this))}),s(i.target),i.settings.onChange(i)):(l(i.target),i.settings.onChange())}),this;if("string"==typeof t)return this.each(function(){switch(t){case"select":s(e(this));break;case"deselect":l(e(this));break;default:console.error("The method you entered does not exist")}});throw new Error("This plugin can only be run with a selector, or with a command")}}(jQuery),void 0===jQuery.aljs)throw new Error("Please include the ALJS initializer file");if(function(e){var t,s='<span class="slds-pill slds-size_1-of-1"><span class="slds-icon_container slds-icon-standard-account slds-pill__icon_container{{hasIcon}}" title="{{objectLabel}}"><svg aria-hidden="true" class="{{objectIconClass}} slds-icon slds-pill__icon"><use xlink:href="{{objectIconUrl}}"></use></svg><span class="slds-assistive-text">{{objectLabel}}</span></span><span class="slds-pill__label" title="{{selectedResultLabel}}">{{selectedResultLabel}}</span><button class="slds-button slds-button_icon-bare slds-pill__remove"><svg aria-hidden="true" class="slds-button__icon"><use xlink:href="{{assetsLocation}}/assets/icons/utility-sprite/svg/symbols.svg#close"></use></svg><span class="slds-assistive-text">Remove</span></button></span>',l='<span class="slds-pill slds-size_1-of-1"><span class="slds-icon_container slds-icon-standard-account slds-pill__icon_container{{hasIcon}}" title="{{objectLabel}}"><img class="{{objectIconClass}} slds-icon slds-pill__icon" src="{{objectLabel}}"/><span class="slds-assistive-text">{{objectLabel}}</span></span><span class="slds-pill__label" title="{{selectedResultLabel}}">{{selectedResultLabel}}</span><button class="slds-button slds-button_icon-bare slds-pill__remove"><svg aria-hidden="true" class="slds-button__icon"><use xlink:href="{{assetsLocation}}/assets/icons/utility-sprite/svg/symbols.svg#close"></use></svg><span class="slds-assistive-text">Remove</span></button></span>',i='<li role="presentation"><span class="slds-lookup__item-action slds-lookup__item-action_label" role="option" tabindex="1"><svg aria-hidden="true" class="slds-icon slds-icon_x-small slds-icon-text-default"><use xlink:href="{{assetsLocation}}/assets/icons/utility-sprite/svg/symbols.svg#search"></use></svg><span class="slds-truncate">&quot;{{searchTerm}}&quot; in {{objectPluralLabel}}</span></span></li>',a='<div class="slds-lookup__item_label slds-text-body_small">{{recentLabel}}</div>',n='<li role="presentation"><span class="slds-lookup__item-action slds-lookup__item-action_label" role="option" tabindex="1"><svg aria-hidden="true" class="slds-icon slds-icon_x-small slds-icon-text-default"><use xlink:href="{{assetsLocation}}/assets/icons/utility-sprite/svg/symbols.svg#add"></use></svg><span class="slds-truncate">New {{objectLabel}}</span></span></li>',o=function(t,s){this.$el=e(t),this.$lookupContainer=this.$el.closest(".slds-lookup"),this.isSingle="single"===this.$lookupContainer.data("select"),this.settings=s,this.isSingle?this.$singleSelect=e('<div class="slds-pill_container slds-hide"></div>').insertBefore(this.$el):(this.$multiSelect=e('<div class="slds-pill_container slds-hide"></div>').insertAfter(this.$lookupContainer.find(".slds-form-element__label")),this.selectedResults=[],this.$multiSelect.css({padding:0,"margin-top":"-2px","margin-left":"-2px",border:"none"})),this.isStringEmpty(s.searchTerm)?s.initialSelection&&this.setSelection(s.initialSelection):(this.$el.val(s.searchTerm),this.setSingleSelect()),this.initLookup()},d=function(t){var s=e(t.currentTarget);if(s.removeClass("slds-has-focus"),38===t.which||40===t.which){t.preventDefault();var l=e(".slds-lookup .slds-lookup__list > li:first-child").is(".slds-lookup__item_label")?".slds-lookup .slds-lookup__list > li:nth-child(2) .slds-lookup__item-action":".slds-lookup .slds-lookup__list > li:first-child .slds-lookup__item-action";38===t.which?s.is(l)?e(".slds-lookup .slds-lookup__list > li:last-child .slds-lookup__item-action").focus().addClass("slds-has-focus"):s.closest("li").prev().find(".slds-lookup__item-action").focus().addClass("slds-has-focus"):s.is(".slds-lookup .slds-lookup__list > li:last-child .slds-lookup__item-action")?e(l).focus().addClass("slds-has-focus"):s.closest("li").next().find(".slds-lookup__item-action").focus().addClass("slds-has-focus")}else 13===t.which&&s.click()};o.prototype={constructor:o,isStringEmpty:function(e){return null===e||void 0===e||""===e.trim()},initLookup:function(){this.$el.on("focus",this,this.runSearch).on("blur",this,this.handleBlur).on("keyup",this,this.handleKeyup),e("body").off("keyup",".slds-lookup .slds-lookup__list .slds-lookup__item-action",d),e("body").on("keyup",".slds-lookup .slds-lookup__list .slds-lookup__item-action",d)},handleKeyup:function(t){40===t.which?e(".slds-lookup .slds-lookup__list .slds-lookup__item-action").first().focus().addClass("slds-has-focus"):t.data.runSearch(t)},runSearch:function(e){var s=e.data;t&&(s.settings.showDebugLog&&console.log("Cancelling search ",t),clearTimeout(t)),t=setTimeout(function(){var e=s.$el.val();s.isStringEmpty(e)?s.getDefaultResults():s.getSearchTermResults(e)},s.settings.searchDelay)},setMultiSelect:function(t){var i=this,a=this.$multiSelect.html(""),n=(this.$lookupContainer,i.settings.useImgTag?l:s);t.length>0?(t.forEach(function(t){var s=e(n.replace("{{objectIconUrl}}",i.settings.objectIconUrl).replace("{{objectIconClass}}",i.settings.objectIconClass).replace("{{hasIcon}}",""!==i.settings.objectIconUrl?"":" slds-hide").replace("{{assetsLocation}}",i.settings.assetsLocation).replace(/{{objectLabel}}/g,i.settings.objectLabel).replace(/{{selectedResultLabel}}/g,t.label));s.removeClass("slds-size_1-of-1").attr("id",t.id).on("click","a, button",i,i.clearMultiSelectResult).css({margin:"2px",display:"inline-flex"}).find(".slds-pill__remove").css({"vertical-align":"1px","margin-left":"0.25rem"}),a.append(s)}),a.addClass("slds-show").removeClass("slds-hide")):(a.html(""),a.addClass("slds-hide").removeClass("slds-show"))},setSingleSelect:function(e){var t=this,i=e||"",a=t.settings.useImgTag?l:s;this.$singleSelect.html(a.replace("{{objectIconUrl}}",this.settings.objectIconUrl).replace("{{objectIconClass}}",t.settings.objectIconClass).replace("{{hasIcon}}",""!==t.settings.objectIconUrl?"":" slds-hide").replace("{{assetsLocation}}",this.settings.assetsLocation).replace(/{{objectLabel}}/g,t.settings.objectLabel).replace(/{{selectedResultLabel}}/g,i)),e?(this.$singleSelect.addClass("slds-show").removeClass("slds-hide"),this.$el.addClass("slds-hide"),this.$lookupContainer.addClass("slds-has-selection"),this.$singleSelect.one("click","button",this,this.clearSingleSelect)):(this.$singleSelect.addClass("slds-hide").removeClass("slds-show"),this.$el.val("").removeClass("slds-hide"),this.$lookupContainer.removeClass("slds-has-selection"),setTimeout(function(){t.$el.focus()},100))},getSearchTermResults:function(e){var t=this;if(this.settings.items.length>0)this.searchResults=this.settings.items.filter(function(t){return null!==t.label.toLowerCase().match(e.toLowerCase())}),this.renderSearchResults();else{var s=function(e){t.searchResults=e,t.renderSearchResults()};this.settings.filledSearchTermQuery(e,s)}},getDefaultResults:function(){var e=this;if(this.settings.items.length>0)this.searchResults=this.settings.items,this.renderSearchResults();else{var t=function(t){e.searchResults=t,e.renderSearchResults()};this.settings.emptySearchTermQuery(t)}},renderSearchResults:function(){this.closeSearchDropdown();var t=e('<div class="slds-lookup__menu"><ul class="slds-lookup__list" role="listbox"></ul></div>'),s=t.find("ul.slds-lookup__list"),l=this.$el.val(),o=new RegExp("("+l+")","gi"),d=this,c=!1;if(!d.isStringEmpty(l)&&l.length?d.settings.showSearch&&(c=!0,s.prepend(i.replace("{{searchTerm}}",l).replace("{{objectPluralLabel}}",d.settings.objectPluralLabel).replace("{{assetsLocation}}",e.aljs.assetsLocation))):d.settings.recentLabel&&s.before(a.replace("{{recentLabel}}",d.settings.recentLabel)),this.searchResults.forEach(function(t){var l,i=d.settings.useImgTag?'<li role="presentation"><span class="slds-lookup__item-action slds-media" id="{{resultId}}" role="option" tabindex="1"><img class="{{objectIconClass}} slds-icon slds-icon_small slds-media__figure{{hasIcon}}" src="{{objectIconUrl}}"/><div class="slds-media__body"><div class="slds-lookup__result-text">{{resultLabel}}</div>{{metaLabel}}</div></span></li>':'<li role="presentation"><span class="slds-lookup__item-action slds-media" id="{{resultId}}" role="option" tabindex="1"><svg aria-hidden="true" class="{{objectIconClass}} slds-icon slds-icon_small slds-media__figure{{hasIcon}}"><use xlink:href="{{objectIconUrl}}"></use></svg><div class="slds-media__body"><div class="slds-lookup__result-text">{{resultLabel}}</div>{{metaLabel}}</div></span></li>',a=t.label.replace(o,"<mark>$1</mark>");if(d.isSingle)l=s.append(i.replace("{{resultLabel}}",a).replace("{{hasIcon}}",""!==d.settings.objectIconUrl?"":" slds-hide").replace("{{resultId}}",t.id).replace("{{objectIconUrl}}",d.settings.objectIconUrl).replace("{{objectIconClass}}",d.settings.objectIconClass).replace("{{metaLabel}}",t.metaLabel?'<span class="slds-lookup__result-meta slds-text-body_small">'+t.metaLabel+"</span>":""));else if(d.selectedResults){var n=d.selectedResults.map(function(e){return e.id});0!==n.length&&-1!==n.indexOf(t.id)||(l=s.append(i.replace("{{resultLabel}}",a).replace("{{hasIcon}}",""!==d.settings.objectIconUrl?"":" slds-hide").replace("{{resultId}}",t.id).replace("{{objectIconUrl}}",d.settings.objectIconUrl).replace("{{objectIconClass}}",d.settings.objectIconClass).replace("{{metaLabel}}",t.metaLabel?'<span class="slds-lookup__result-meta slds-text-body_small">'+t.metaLabel+"</span>":"")))}l&&l.find(".slds-lookup__item-action[id]").on("focus",function(){d.$el.attr("aria-activedescendant",e(this).attr("id"))}).on("blur",d,d.handleBlur)}),this.settings.onClickNew){var r=s.append(n.replace("{{objectLabel}}",this.settings.objectLabel).replace("{{assetsLocation}}",e.aljs.assetsLocation));r.next().on("click",function(){r.off("click"),d.settings.onClickNew()})}s.one("click",".slds-lookup__item-action[id]",this,this.clickResult),this.$lookupSearchContainer=t.appendTo(this.$lookupContainer),this.searchResults.length>0&&this.$el.closest(".slds-form-element").find(".slds-lookup__list > li").length>0||this.settings.onClickNew||c?this.$el.attr("aria-expanded","true").closest(".slds-lookup").addClass("slds-is-open"):this.$lookupSearchContainer.remove()},closeSearchDropdown:function(){this.$lookupSearchContainer&&(this.$lookupSearchContainer.remove(),this.$lookupSearchContainer=null),this.$el.attr("aria-expanded","false").attr("aria-activedescendant",null).closest(".slds-lookup").removeClass("slds-is-open")},handleBlur:function(t){var s=t.data;0===e(t.relatedTarget).closest(".slds-lookup.slds-is-open").length&&s.$lookupSearchContainer&&s.closeSearchDropdown()},clickResult:function(t){var s=t.data,l=e(this).attr("id");s.selectResult(l)},selectResult:function(e){var t=this.searchResults.filter(function(t){return t.id==e});this.closeSearchDropdown(),this.isSingle?(this.selectedResult=t.length>0?t[0]:null,this.setSingleSelect(this.selectedResult.label),this.settings.onChange(this.selectedResult,!0)):(t.length>0&&(this.selectedResults.push(t[0]),this.setMultiSelect(this.selectedResults),this.$el.val("")),this.settings.onChange(this.selectedResults,!0))},clearSingleSelect:function(e){var t=e.data;t.selectedResult=null,t.setSingleSelect(),t.settings.onChange(t.selectedResult,!1)},clearMultiSelectResult:function(t){var s,l=t.data,i=e(this).closest("span.slds-pill"),a=i.attr("id");l.closeSearchDropdown(),l.selectedResults.forEach(function(e,t){e.id==a&&(s=t)}),void 0!==s&&null!==s&&(l.selectedResults.splice(s,1),l.setMultiSelect(l.selectedResults),l.settings.onChange(l.selectedResults,!1))},getSelection:function(){return this.isSingle?this.selectedResult||null:this.selectedResults||null},setSelection:function(t){var s=this;if(!t||"object"!=typeof t)throw new Error("setSelection must be called with either a valid result object or an array of result objects.");e.isEmptyObject(t)?s.isSingle?(s.selectedResult=null,s.setSingleSelect(),s.settings.onChange(s.selectedResult,!1)):(s.selectedResults=[],s.setMultiSelect(s.selectedResults),s.settings.onChange(s.selectedResults,!1)):t instanceof Array?(this.searchResults=t,this.selectedResults=[],t.forEach(function(e){s.selectResult(e.id)})):(this.selectedResult=null,this.searchResults=[t],s.selectResult(t.id))}},e.fn.lookup=function(t){var s,l=arguments,i=e.extend({assetsLocation:e.aljs.assetsLocation,objectPluralLabel:"Objects",objectLabel:"Object",useImgTag:!1,objectIconUrl:e.aljs.assetsLocation+"/assets/icons/standard-sprite/svg/symbols.svg#account",objectIconClass:"slds-icon-standard-account",searchTerm:"",items:[],emptySearchTermQuery:function(e){e([])},filledSearchTermQuery:function(e,t){t([])},onClickNew:null,onChange:function(){},initialSelection:null,recentLabel:"Recent Objects",showSearch:!1,searchDelay:500},"object"==typeof t?t:{});if(this.each(function(){var a=e(this),n=a.data("aljs-lookup");if(!n){var d=new o(this,i);a.data("aljs-lookup",n=d)}"string"==typeof t&&(s=n[t](l[1],l[2]))}),void 0===s||s instanceof o)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+option+" function)");return s}}(jQuery),void 0===jQuery.aljs)throw new Error("Please include the ALJS initializer file");if(function(e){function t(){i=e.aljs.scoped?"string"==typeof e.aljs.scopingClass?"."+e.aljs.scopingClass:".slds-scope":a,e(".slds-backdrop").remove(),e(i).append('<div class="aljs-modal-container"></div>');var t=e(".aljs-modal-container");n.appendTo(t).append('<div class="slds-backdrop"></div>').attr("aria-hidden","true").addClass("slds-hide")}function s(t,s){var l=t.data("aljs-show"),i=e("#"+l);void 0===l?console.error('No "data-aljs-show" attribute has been set'):(i.modal("show",s),t.blur(),o=t)}var l,i,a="body",n=e(".slds-modal"),o=null;e.fn.modal=function(i,d){function c(e){27==e.which&&n.is(":visible")&&r()}function r(){h.$el.modal("dismiss",p).unbind("click"),n.unbind("click"),f.unbind("click"),e(a).unbind("keyup",c)}function u(t){s(e(this),i)}var h={};if(h.$el=this,h.hasSelector=!(!i||!i.hasOwnProperty("selector")),null!==i&&"string"==typeof i){var p=e.extend({selector:null,dismissSelector:'[data-aljs-dismiss="modal"]',backdropDismiss:!1,onShow:function(e){},onShown:function(e){},onDismiss:function(e){},onDismissed:function(e){}},d),f=e(p.dismissSelector),g=e(".slds-modal__header, .slds-modal__content, .slds-modal__footer");switch(i){case"show":l=!0,h.id=this.attr("id"),e(".slds-modal").removeClass("slds-fade-in-open slds-show").addClass("slds-hide").attr("aria-hidden","true").attr("tabindex",-1),e(".slds-backdrop").remove(),e(".aljs-modal-container").append('<div class="slds-backdrop"></div>'),h.$el.addClass("slds-show").removeClass("slds-hide").attr("aria-hidden","false").attr("tabindex",1),setTimeout(function(){var t=e(".slds-backdrop"),s=function(){h.$el.trigger("shown.aljs.modal"),p.onShown(h),l=!1,e(a).unbind("keyup",c).bind("keyup",c),f.click(function(e){e.preventDefault(),r()}),p.backdropDismiss&&(n.click(r),g.click(function(e){e.stopPropagation()}))};t.one("transitionend",s).addClass("slds-backdrop_open"),h.$el.addClass("slds-fade-in-open").trigger("show.aljs.modal"),p.onShow(h)},25);break;case"dismiss":if(!l){var b=e(".slds-backdrop"),m=function(){l||b.remove(),o=null,h.$el.addClass("slds-hide").removeClass("slds-show").trigger("dismissed.aljs.modal"),p.onDismissed(h)};b.one("transitionend",m).removeClass("slds-backdrop_open")}p.onDismiss(h),h.$el.removeClass("slds-fade-in-open").attr("aria-hidden","true").attr("tabindex",-1),null!==o&&o.focus(),h.$el.trigger("dismiss.aljs.modal");break;case"trigger":var v=h.$el.data("aljs-show");e("#"+v).modal("show",p);break;default:console.error("The method you entered does not exist")}}else h.hasSelector&&1===this.length?(t(),this.on("click",i.selector,u)):(t(),h.$el.click(function(){s(e(this),i)}));return this}}(jQuery),void 0===jQuery.aljs)throw new Error("Please include the ALJS initializer file");if(function(e){var t=function(t,s){this.$el=e(t),this.$selectedContainer=this.$el.find('[data-aljs-multi-select="selected"]').find("ul"),this.$unselectedContainer=this.$el.find('[data-aljs-multi-select="unselected"]').find("ul"),this.selectedItems=s.selectedItems,this.unselectedItems=s.unselectedItems,this.settings=s,this.init()};t.prototype={constructor:t,init:function(){this.renderUnselectedItems(),this.renderSelectedItems(),this.$el.find('[data-aljs-multi-select="unselect"]').on("click",this,this.unselectItem),this.$el.find('[data-aljs-multi-select="select"]').on("click",this,this.selectItem),this.$el.find('[data-aljs-multi-select="move-up"]').on("click",this,this.moveItemUp),this.$el.find('[data-aljs-multi-select="move-down"]').on("click",this,this.moveItemDown)},renderUnselectedItems:function(){var t=this;this.$unselectedContainer.empty(),this.unselectedItems.forEach(function(e){t.$unselectedContainer.append(t.createPicklistDomItem(e))}),this.$unselectedContainer.off().on("click","li",function(s){e(this).addClass("slds-is-selected").attr("aria-selected","true").siblings().removeClass("slds-is-selected").attr("aria-selected","false"),t.itemToSelect=e(this).data("aljs-picklist-obj")}).on("dragstart","li",function(s){t.itemToSelect=e(this).data("aljs-picklist-obj"),s.originalEvent.dataTransfer.setData("text/plain",null)}).on("dragover",function(e){e.preventDefault(),e.stopPropagation()}).on("dragenter",function(e){e.preventDefault(),e.stopPropagation()}).on("drop",function(e){e.preventDefault(),e.stopPropagation(),t.$el.find('[data-aljs-multi-select="unselect"]').click()})},renderSelectedItems:function(){var t=this;this.$selectedContainer.empty(),this.selectedItems.forEach(function(e){t.$selectedContainer.append(t.createPicklistDomItem(e))}),this.$selectedContainer.off().on("click","li",function(s){e(this).addClass("slds-is-selected").attr("aria-selected","true").siblings().removeClass("slds-is-selected").attr("aria-selected","false"),t.itemToUnselect=e(this).data("aljs-picklist-obj")}).on("dragstart","li",function(s){t.itemToUnselect=e(this).data("aljs-picklist-obj"),s.originalEvent.dataTransfer.setData("text/plain",null)}).on("dragover",function(e){
e.preventDefault(),e.stopPropagation()}).on("dragenter",function(e){e.preventDefault(),e.stopPropagation()}).on("drop",function(e){e.preventDefault(),e.stopPropagation(),t.$el.find('[data-aljs-multi-select="select"]').click()})},selectItem:function(e){var t=e.data;t.itemToSelect&&(t.$unselectedContainer.find("#"+t.itemToSelect.id).removeClass("slds-is-selected").attr("aria-selected","false").appendTo(t.$selectedContainer),t.unselectedItems.splice(t.unselectedItems.indexOf(t.itemToSelect),1),t.selectedItems.push(t.itemToSelect),t.itemToSelect=null,t.settings.onSelectItem(t))},unselectItem:function(e){var t=e.data;t.itemToUnselect&&(t.$selectedContainer.find("#"+t.itemToUnselect.id).removeClass("slds-is-selected").attr("aria-selected","false").appendTo(t.$unselectedContainer),t.selectedItems.splice(t.selectedItems.indexOf(t.itemToUnselect),1),t.unselectedItems.push(t.itemToUnselect),t.itemToUnselect=null,t.settings.onUnselectItem(t))},moveItemUp:function(e){var t=e.data;if(t.itemToUnselect){var s=t.selectedItems.indexOf(t.itemToUnselect);if(s>0){t.selectedItems.splice(s,1),t.selectedItems.splice(s-1,0,t.itemToUnselect);var l=t.$selectedContainer.find("#"+t.itemToUnselect.id);l.removeClass("slds-is-selected").attr("aria-selected","false").insertBefore(l.prev("li")),t.itemToUnselect=null,t.settings.onMoveItem(t,"up")}}},moveItemDown:function(e){var t=e.data;if(t.itemToUnselect){var s=t.selectedItems.indexOf(t.itemToUnselect);if(s<t.selectedItems.length-1){t.selectedItems.splice(s,1),t.selectedItems.splice(s+1,0,t.itemToUnselect);var l=t.$selectedContainer.find("#"+t.itemToUnselect.id);l.removeClass("slds-is-selected").attr("aria-selected","false").insertAfter(l.next("li")),t.itemToUnselect=null,t.settings.onMoveItem(t,"down")}}},createPicklistDomItem:function(t){return e('<li draggable="true" id="{{optionId}}" class="slds-picklist__item slds-has-icon slds-has-icon_left" aria-selected="false" tabindex="0" role="option"><span class="slds-truncate"><span>{{optionLabel}}</span></span></li>'.replace("{{optionId}}",t.id).replace("{{optionLabel}}",t.label.toString())).data("aljs-picklist-obj",t)},setSelectedItems:function(e){this.selectedItems=e,this.renderSelectedItems()},setUnselectedItems:function(e){this.unselectedItems=e,this.renderUnselectedItems()},getSelectedItems:function(){return this.selectedItems},getUnselectedItems:function(){return this.unselectedItems}},e.fn.multiSelect=function(s){var l,i=arguments,a=e.extend({selectedItems:[],unselectedItems:[],onSelectItem:function(e){},onUnselectItem:function(e){},onMoveItem:function(e,t){},assetsLocation:e.aljs.assetsLocation},"object"==typeof s?s:{});if(this.each(function(){var n=e(this),o=n.data("aljs-multi-select");if(!o){var d=new t(this,a);n.data("aljs-multi-select",o=d)}"string"==typeof s&&(l=o[s](i[1],i[2]))}),void 0===l||l instanceof t)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+option+" function)");return l}}(jQuery),void 0===jQuery.aljs)throw new Error("Please include the ALJS initializer file");if(function(e){e.fn.notification=function(t){e.extend({assetsLocation:e.aljs.assetsLocation},t);if(1===this.length&&"string"!=typeof t)return this.on("click",'[data-aljs-dismiss="notification"]',function(t){var s=e(this).closest(".slds-notify");s.length>0&&(s.trigger("dismissed.aljs.notification"),s.addClass("slds-hide"))});if("string"==typeof t)return this.each(function(){var s=e(this);if(!s.hasClass("slds-notify"))throw new Error("This method can only be run on a notification with the slds-notify class on it");"show"===t||"toggle"===t&&s.hasClass("slds-hide")?(s.removeClass("slds-hide"),s.trigger("dismissed.aljs.notification")):("dismiss"===t||"toggle"===t&&!s.hasClass("slds-hide"))&&(s.addClass("slds-hide"),s.trigger("shown.aljs.notification"))});throw new Error("This plugin can only be run with a selector, or with a command")}}(jQuery),void 0===jQuery.aljs)throw new Error("Please include the ALJS initializer file");if(function(e){var t=function(t,s){this.$el=e(t),this.settings=s,this.obj={},this.bindTrigger(),this.bindChoices()};t.prototype={constructor:t,bindTrigger:function(){var t=this,s=this.$el;this.obj.$trigger=e(".slds-lookup__search-input",s),this.obj.$dropdown=e(".slds-dropdown__list",s),this.obj.$choices=e(".slds-dropdown__list > li > span",s).prop("tabindex",1),this.$el.on("keyup",t,t.processKeypress).find(".slds-lookup__search-input + .slds-button").css("pointer-events","none"),this.obj.$trigger.unbind().click(function(s){return s.stopPropagation(),t.obj.id=e(this).attr("id"),t.$el.hasClass("slds-is-open")?(t.$el.removeClass("slds-is-open"),t.obj.$dropdown.unbind("keyup",t.processKeypress)):(e('[data-aljs="picklist"]').not(t.$el).picklist("close"),t.$el.addClass("slds-is-open"),null===t.obj.valueId||void 0===t.obj.valueId?t.focusedIndex=null:t.focusedIndex=t.obj.$dropdown.find("li > span").index(t.obj.$dropdown.find("#"+t.obj.valueId)),t.focusOnElement()),!1}),e("body").click(function(){t.$el.removeClass("slds-is-open")})},processKeypress:function(e){var t=e.data,s=t.obj.$choices.length;if(t.$el.hasClass("slds-is-open"))switch(e.which){case 40:null===t.focusedIndex?t.focusedIndex=0:t.focusedIndex=t.focusedIndex===s-1?0:t.focusedIndex+1,t.focusOnElement();break;case 38:null===t.focusedIndex?t.focusedIndex=s-1:t.focusedIndex=0===t.focusedIndex?s-1:t.focusedIndex-1,t.focusOnElement();break;case 27:t.$el.picklist("close");break;case 13:if(null!==t.focusedIndex){var l=t.obj.$choices.eq(t.focusedIndex).attr("id");t.setValueAndUpdateDom(l)}}else 13===e.which&&(t.$el.addClass("slds-is-open"),t.focusOnElement());return!1},focusOnElement:function(){null!==this.focusedIndex&&this.obj.$choices.eq(this.focusedIndex).focus()},bindChoices:function(){var t=this;this.obj.$valueContainer=e(".slds-lookup__search-input",this.$el),this.obj.$choices.unbind().click(function(s){s.stopPropagation();var l=e(this).closest("span").attr("id");t.setValueAndUpdateDom(l)})},setValueAndUpdateDom:function(e){var t=this,s=t.$el.find("#"+e),l=t.obj.$choices.index(s);this.obj.value=s.text().trim(),this.obj.valueId=e,this.$el.removeClass("slds-is-open"),this.obj.$trigger.trigger("change.aljs.picklist").focus(),this.obj.$valueContainer.val(this.obj.value),this.obj.$choices.removeClass("slds-is-selected"),s.addClass("slds-is-selected"),t.focusedIndex=l,t.settings.onChange(t.obj)},setValue:function(e,t){this.setValueAndUpdateDom(e),t&&this.settings.onChange(this.obj)},getValueId:function(){return this.obj.valueId},getValue:function(){return this.obj},close:function(){this.$el.removeClass("slds-is-open")}},e.fn.picklist=function(s){var l,i=arguments,a=e.extend({assetsLocation:e.aljs.assetsLocation,onChange:function(e){}},"object"==typeof s?s:{});if(this.each(function(){var n=e(this),o=n.data("aljs-picklist");if(!o){var d=new t(this,a);n.data("aljs-picklist",o=d)}"string"==typeof s&&(l=o[s](i[1],i[2]))}),void 0===l||l instanceof t)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+option+" function)");return l}}(jQuery),void 0===jQuery.aljs)throw new Error("Please include the ALJS initializer file");if(function(e){e.fn.pill=function(t){e.extend({assetsLocation:e.aljs.assetsLocation},t);if(1===this.length)return this.on("click",'[data-aljs-dismiss="pill"]',function(t){var s=e(this).closest(".slds-pill");s.length>0&&(s.trigger("dismissed.aljs.pill"),s.remove())});throw new Error("This plugin can only be run with a selector targeting one container (e.g., 'body')")}}(jQuery),void 0===jQuery.aljs)throw new Error("Please include the ALJS initializer file");if(function(e){var t=function(t){o();var n=t.data,d=e(t.target).is(e(n.selector))?e(t.target):e(t.target).closest(n.selector||'[data-aljs="popover"]'),c=!!d.attr("data-aljs-show");d.attr("data-aljs-title")||c||(d.attr("data-aljs-title",d.attr("title")),d.attr("title",""));var r=c?e("#"+d.data("aljs-show")).html():s(d.attr("data-aljs-title"));if(r.length>0){var u=d.parent().hasClass("slds-button")?' style="line-height: normal;"':"",h=d.attr("data-aljs-id")||"aljs-"+(new Date).valueOf(),p=d.attr("data-aljs-placement")||"top",f={top:"bottom",bottom:"top",left:"right",right:"left"},g=""!=n.modifier?" slds-popover_"+n.modifier:"",b=""!=n.theme?" slds-theme_"+n.theme:"",m='<div id="'+h+'" aria-describedby="'+h+'" class="slds-popover'+g+b+" slds-nubbin_"+(f[p]||"top")+'" style="overflow: visible; display: block; position: absolute;"><div class="slds-popover__body"'+u+">"+r+"</div></div>";if(0===d.next(".slds-popover").length){var v=e.aljs.scoped?"string"==typeof e.aljs.scopingClass?e(m).appendTo("."+e.aljs.scopingClass):e(m).appendTo(".slds-scope"):e(m).appendTo("body"),k=v[0].offsetWidth,_=v[0].offsetHeight,j=a(d),y=i(p,j,k,_);l(y,p,k,_,v)}}},s=function(e){var t=String(e);return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;")},l=function(e,t,s,l,i){var a=n(t,e,s,l);a.left?e.left+=a.left:e.top+=a.top,i.offset(e)},i=function(e,t,s,l){var i={};switch(e){case"bottom":i={top:t.top+t.height+15,left:t.left+t.width/2-s/2};break;case"top":i={top:t.top-l-15,left:t.left+t.width/2-s/2};break;case"left":i={top:t.top+t.height/2-l/2,left:t.left-s-15};break;default:i={top:t.top+t.height/2-l/2,left:t.left+t.width+15}}return i},a=function(t){t=t||this.$element;var s=t[0],l="BODY"==s.tagName,i=s.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var a=l?{top:0,left:0}:t.offset(),n={scroll:l?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=l?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,n,o,a)},n=function(t,s,l,i){var n={top:0,left:0},o=a(e("body"));if(/right|left/.test(t)){var d=s.top-o.scroll,c=s.top-o.scroll+i;d<o.top?n.top=o.top-d:c>o.top+o.height&&(n.top=o.top+o.height-c)}else{var r=s.left,u=s.left+l;r<o.left?n.left=o.left-r:u>o.right&&(n.left=o.left+o.width-u)}return n},o=function(t){var s=e("body").find(".slds-popover");s.length>0&&s.remove()};e.fn.popover=function(s){var l=e.extend({assetsLocation:e.aljs.assetsLocation,modifier:"",theme:"",showTrigger:"mouseenter focusin",hideTrigger:"mouseleave blur"},s);return this.each(function(){e("#"+e(this).data("aljs-show")).addClass("slds-hide")}),e("body").click(o),e("body").on("click",'[data-aljs-dismiss="popover"]',o),e("body").on("click",'.slds-popover, .slds-popover .slds-form-element__label, [data-aljs="popover"]',function(e){e.stopPropagation()}),l.selector&&1===this.length?this.on(l.showTrigger,l.selector,l,t).on(l.hideTrigger,l.selector,l,o):this.each(function(){var s=JSON.parse(JSON.stringify(l));s.selector=this,e(this).on(s.showTrigger,s,t).on(s.hideTrigger,s,o)})}}(jQuery),void 0===jQuery.aljs)throw new Error("Please include the ALJS initializer file");!function(e){var t=function(t,s){this.$el=e(t),this.settings=s,this.initTabs()};t.prototype={constructor:t,initTabs:function(){var t=this,s=this.$el.find("> .slds-tabs_efault__nav > .slds-tabs_efault__item > .slds-tabs_efault__link, > .slds-tabs_coped__nav > .slds-tabs_coped__item > .slds-tabs_coped__link"),l=this.$el.find("> .slds-tabs_efault__nav > .slds-tabs_efault__item, > .slds-tabs_coped__nav > .slds-tabs_coped__item"),i={self:t,children:l};s.on("click",function(s){return s.stopPropagation(),t.selectTab(e(s.target).data("aljs-show")),e(this).trigger("selected.aljs.tab"),!1}),""===this.settings.defaultTabId||0===e("#"+this.settings.defaultTabId).length?this.selectTab(s.first().data("aljs-show")):this.selectTab(this.settings.defaultTabId),l.keyup(i,this.processKeypress)},selectTab:function(e){this.$el.find("> .slds-tabs_efault__nav > .slds-tabs_efault__item, > .slds-tabs_coped__nav > .slds-tabs_coped__item").removeClass("slds-active").blur().find("> .slds-tabs_efault__link, > .slds-tabs_coped__link").attr("tabindex","-1").attr("aria-selected","false"),this.$el.find("> .slds-tabs_efault__content, > .slds-tabs_coped__content").hide(),this.$el.find('[data-aljs-show="'+e+'"]').focus().closest("li").addClass("slds-active").find("> .slds-tabs_efault__link, > .slds-tabs_coped__link").attr("tabindex","0").attr("aria-selected","true"),this.$el.find("#"+e).show().trigger("shown.aljs.tabcontent"),this.id=e,this.settings.onChange(this)},processKeypress:function(t){var s,l=t.data.children,i=e(l).length-1,a=e(".slds-active",e(l).parent()).index();37==t.which?(s=0==a?e(l).eq(i).find("[data-aljs-show]").data("aljs-show"):e(l).eq(a-1).find("[data-aljs-show]").data("aljs-show"),t.data.self.selectTab(s)):39==t.which&&(s=a==i?e(l).eq(0).find("[data-aljs-show]").data("aljs-show"):e(l).eq(a+1).find("[data-aljs-show]").data("aljs-show"),t.data.self.selectTab(s))}},e.fn.tabs=function(s){var l,i=arguments,a=e.extend({defaultTabId:"",onChange:function(e){},assetsLocation:e.aljs.assetsLocation},"object"==typeof s?s:{});if(this.each(function(){var n=e(this),o=n.data("aljs-tabs");if(!o){var d=new t(this,a);n.data("aljs-tabs",o=d)}"string"==typeof s&&(l=o[s](i[1],i[2]))}),void 0===l||l instanceof t)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+option+" function)");return l}}(jQuery);
/* --------------------------------------------------
Copyright 2017 Appiphony, LLC

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-------------------------------------------------- */
